<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Chapter 2 - Machines</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,500|Roboto+Slab|Material+Icons" type="text/css" />
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-blue.min.css" />
        <link rel="stylesheet" href="https://geteach.com/scripts/newearth/geteachStyle1227.css" type="text/css" />
    </head>
    <body>
        <div id="container">
            <main class="panelMain">
                <div class="videoContain mediaPlay">
                    <video class="videoMedia" id="videoI" width="480" height="270" poster="https://storage.googleapis.com/geteachkml4/npr/chapter2Poster.jpg">
                        <source src="https://storage.googleapis.com/geteachkml4/npr/machine.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                    </video>
                    <span class="mediaIcon mdl-color-text--white" id="mediaIcon">
                        <i class="material-icons">play_arrow</i>
                    </span>
                </div>
                <div class="content">
                    <div class="title">
                        Chapter 2 - Machines
                    </div>
                    <div class="snippet">
                        Sucked up, laid down and twisted
                    </div>
                    <span class="mdl-chip mdl-chip--contact mediaPlay" id="playSpan">
                        <span class="mdl-chip__contact mdl-color-text--white" id="playIcon"><i class="material-icons">play_arrow</i></span>
                        <span class="mdl-chip__text" id="playButton">Play</span>
                    </span>
                    <div class="description">
                        <p class="text">There are 6 miles of yarn in a single Planet Money T-shirt. If any of that yarn is too thick or too thin, even by a little bit, the T-shirt could start falling apart after just a few washes. (Yarn, by the way, is what ordinary people call thread. In the garment business, itâ€™s called yarn.)</p>
                        <p class="text">Read about the secret world of yarn <a href="https://apps.npr.org/tshirt/#/machines" target="_blank">here</a>. What did you find most interesting within the Chapter 2 - Machines reading?</p>
                        <hr>
                        <p class="text">Credit: NPR's <a href="https://apps.npr.org/tshirt/#/title" target="_blank">Planet Money Makes a T-Shirt</a>...Please do not forget to support your local <a href="http://www.npr.org/stations/" target="_blank">NPR Public Radio Station</a>.</p>
                    </div>
                </div>
                <div class="footer">
                    <div class="logoLeft">
                        <a href="https://twitter.com/geteach" target="_blank">
                            <img src="https://storage.googleapis.com/geteachkml4/logogeteachtemp.png" >
                        </a>
                    </div>
                    <div class="logoRight" style="display:none">
                        <a href="#054864F8260BBAA18C8C;Flyto" id="click1"></a>
                        <a href="#0DD1B012C90BBAA31560;Flyto" id="click2"></a>
                        <a href="#02C6ABFF7A0BBAA45079;Flyto" id="click3"></a>
                        <a href="#03BF3F2D4D0BBAA6517F;Flyto" id="click4"></a>
                        <a href="#05D4EF5E370BBAA7A4FF;Flyto" id="click5"></a>
                        <a href="#08B10750930BBAA92197;Flyto" id="click6"></a>
                        <a href="#07BB40E5ED0BB9AD4EBB;show" id="clickShow1"></a>
                        <a href="#03D257CAE90BB9B0F531;show" id="clickShow2"></a>
                        <a href="#04DBE5D4230BB9B39190;show" id="clickShow3"></a>
                        <a href="#0DE655208C0BBA9375A5;show" id="clickShow4"></a>
                        <a href="#0D765CE9AC0BBA976F4C;show" id="clickShow5"></a>
                        <a href="#039CBC4D420BBA9F123A;show" id="clickShow6"></a>
                        <a href="#03891D28600BBAB5F32C;show" id="clickShow7"></a>
                        <a href="#0CD9DB6BAA0BBAF47491;hide" id="clickHide8"></a>
                        <a href="#0F58FA0E090BBAF6C900;hide" id="clickHide9"></a>
                        <a href="#02273B58390BBAF8473F;hide" id="clickHide10"></a>
                        <a href="#0EB952BE2B0BBAFA50FF;hide" id="clickHide11"></a>
                        <a href="#0E0893F64B0BBAFC05EE;hide" id="clickHide12"></a>
                        <a href="#02575042A80BBB4D79E5;hide" id="clickHide13"></a>
                        <a href="#0FD9F8EAFB0BBB4E2E6E;hide" id="clickHide14"></a>
                        <a href="#0A526306170BBB4E8065;hide" id="clickHide15"></a>
                        <a href="#052614BAE80BBB4F5916;hide" id="clickHide16"></a>
                        <a href="#02A82A64E60BBB5FC231;hide" id="clickHide17"></a>
                    </div>
                </div>
            </main>
        </div>
    </body>
    <script>
        var vid = document.getElementById("videoI");
        vid.ontimeupdate = function() {clickCam()};
        function clickCam() {
            if (vid.currentTime >= 2 && vid.currentTime <= 2.5){
            document.getElementById('click1').click();
            }
            if (vid.currentTime >= 12 && vid.currentTime <= 12.5){
            document.getElementById('click2').click();
            }
            if (vid.currentTime >= 23 && vid.currentTime <= 23.5){
            document.getElementById('click3').click();
            }
            if (vid.currentTime >= 45 && vid.currentTime <= 45.5){
            document.getElementById('click4').click();
            }
            if (vid.currentTime >= 52 && vid.currentTime <= 52.5){
            document.getElementById('click5').click();
            }
            if (vid.currentTime >= 66 && vid.currentTime <= 66.5){
            document.getElementById('click6').click();
            }
        };
		
		var mediaPlay = document.getElementsByClassName("mediaPlay");
		for (var i = 0; i < mediaPlay.length; i++) {
			mediaPlay[i].addEventListener('click', playPause, false);
		};
		
		var startTimeMS = 0;
		var timerId;
		var timerStep;
		function playPause() {
			var image = document.getElementById('controlIcon');
			if (document.getElementById('playIcon').innerHTML  != '<i class="material-icons">play_arrow</i>'){
			getRemainingTime();
			document.getElementById('playIcon').innerHTML = '<i class="material-icons">play_arrow</i>';
			document.getElementById('playButton').innerHTML = 'Play';
			document.getElementById('mediaIcon').innerHTML = '<i class="material-icons">play_arrow</i>';
			} else {
			document.getElementById('playIcon').innerHTML = '<i class="material-icons">pause</i>';
			document.getElementById('playButton').innerHTML = 'Pause';
			document.getElementById('mediaIcon').innerHTML = '<i class="material-icons">pause</i>';
			playTour();
			}
		};
		function playTour() {
		var videoI = document.getElementById("videoI");
			if (document.getElementById('playIcon').innerHTML  != '<i class="material-icons">play_arrow</i>'){
			startTimeMS = (new Date()).getTime();
			videoI.play();
			};
			videoI.onended = function() {
			videoI.load();
			document.getElementById('playIcon').innerHTML = '<i class="material-icons">play_arrow</i>';
			document.getElementById('playButton').innerHTML = 'Play';
			document.getElementById('mediaIcon').innerHTML = '<i class="material-icons">play_arrow</i>';
			};
		};
		function getRemainingTime(){
			window.clearTimeout(timerId);
			document.getElementById("videoI").pause();
			timerStep -= ( (new Date()).getTime() - startTimeMS );
		};
            window.onload = playTour;
    </script>
    <script>
        window.onload = function() {
        document.getElementById('clickShow1').click();
        document.getElementById('clickShow2').click();
        document.getElementById('clickShow3').click();
        document.getElementById('clickShow4').click();
        document.getElementById('clickShow5').click();
        document.getElementById('clickShow6').click();
        document.getElementById('clickShow7').click();
        document.getElementById('clickHide8').click();
        document.getElementById('clickHide9').click();
        document.getElementById('clickHide10').click();
        document.getElementById('clickHide11').click();
        document.getElementById('clickHide12').click();
        document.getElementById('clickHide13').click();
        document.getElementById('clickHide14').click();
        document.getElementById('clickHide15').click();
        document.getElementById('clickHide16').click();
        document.getElementById('clickHide17').click();
    };
    </script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</html>